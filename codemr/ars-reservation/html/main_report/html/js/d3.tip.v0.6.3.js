d3.tip=function(){var t,i=function(){return"n"},s=function(){return[0,0]},u=function(){return" "},a=((t=d3.select(document.createElement("div"))).style({position:"absolute",opacity:0,pointerEvents:"none",boxSizing:"border-box"}),t.node()),e=null,c=null,p=null;function d(t){t&&(e=function(t){if(!t)return;if(!(t=t.node()))return;return"svg"==t.tagName.toLowerCase()?t:t.ownerSVGElement}(t))&&(c=e.createSVGPoint(),document.body.appendChild(a))}d.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(p=t.pop());var e,n=u.apply(this,t),r=s.apply(this,t),o=i.apply(this,t),l=d3.select(a),f=0;for(l.html(n).style({opacity:1,"pointer-events":"all"});f--;)l.classed(m[f],!1);return e=y.get(o).apply(this),l.classed(o,!0).style({top:e.top+r[0]+"px",left:e.left+r[1]+"px"}),d},d.hide=function(){return nodel=d3.select(a),nodel.style({opacity:0,"pointer-events":"none"}),d},d.attr=function(t,e){if(arguments.length<2&&"string"==typeof t)return d3.select(a).attr(t);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(d3.select(a),n),d},d.style=function(t,e){if(arguments.length<2&&"string"==typeof t)return d3.select(a).style(t);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.style.apply(d3.select(a),n),d},d.direction=function(t){return arguments.length?(i=null==t?t:d3.functor(t),d):i},d.offset=function(t){return arguments.length?(s=null==t?t:d3.functor(t),d):s},d.html=function(t){return arguments.length?(u=null==t?t:d3.functor(t),d):u};var y=d3.map({n:function(){var t=n();return{top:t.n.y-a.offsetHeight,left:t.n.x-a.offsetWidth/2}},s:function(){var t=n();return{top:t.s.y,left:t.s.x-a.offsetWidth/2}},e:function(){var t=n();return{top:t.e.y-a.offsetHeight/2,left:t.e.x}},w:function(){var t=n();return{top:t.w.y-a.offsetHeight/2,left:t.w.x-a.offsetWidth}},nw:function(){var t=n();return{top:t.nw.y-a.offsetHeight,left:t.nw.x-a.offsetWidth}},ne:function(){var t=n();return{top:t.ne.y-a.offsetHeight,left:t.ne.x}},sw:function(){var t=n();return{top:t.sw.y,left:t.sw.x-a.offsetWidth}},se:function(){var t=n();return{top:t.se.y,left:t.e.x}}}),m=y.keys();function n(){var t=p||d3.event.target,e={},n=t.getScreenCTM(),r=t.getBBox(),o=r.width,l=r.height,f=r.x,i=r.y,s=document.documentElement.scrollTop||document.body.scrollTop,u=document.documentElement.scrollLeft||document.body.scrollLeft;return c.x=f+u,c.y=i+s,e.nw=c.matrixTransform(n),c.x+=o,e.ne=c.matrixTransform(n),c.y+=l,e.se=c.matrixTransform(n),c.x-=o,e.sw=c.matrixTransform(n),c.y-=l/2,e.w=c.matrixTransform(n),c.x+=o,e.e=c.matrixTransform(n),c.x-=o/2,c.y-=l/2,e.n=c.matrixTransform(n),c.y+=l,e.s=c.matrixTransform(n),e}return d};

function drawDependencyWheel(e){if(function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++)if(0!=n[r])return!1;return!0}(e))d3.select("body").html('<text class="default-text-color">No cross dependency between packages</text>');else{var n=Math.min(1e3,1e3)/2-200,t=n-24,r=d3.svg.arc().innerRadius(t).outerRadius(n),a=d3.layout.chord().padding(.04).sortSubgroups(d3.descending).sortChords(d3.ascending),d=d3.svg.chord().radius(t),c=d3.select("body").append("svg").attr("width",1e3).attr("height",1e3).append("g").attr("id","circle").attr("transform","translate(500,500)");c.append("circle").attr("r",n),d3.select(window).on("click",function(){s.classed("fade",function(e){return!1})}),a.matrix(e);var o=c.selectAll(".group").data(a.groups).enter().append("g").attr("class","group").on("mouseover",function(e,t){s.classed("fade",function(e){return e.source.index!=t&&e.target.index!=t})});o.append("title").text(function(e,t){return packages[t].name+": "+Math.round(e.value)+" out couplings"});o.append("path").attr("id",function(e,t){return"group"+t}).attr("d",r).style("fill",function(e,t){return packages[t].color}),o.append("text").attr("dy",".35em").attr("text-anchor",function(e){return(e.startAngle+e.endAngle)/2>Math.PI?"end":null}).attr("transform",function(e){var t=(e.startAngle+e.endAngle)/2;return"rotate("+(180*t/Math.PI-90)+")translate("+(n+5)+")"+(t>Math.PI?"rotate(180)":"")}).text(function(e,t){return function(e){0;var t=e.name,n=t.indexOf(".");return t.substring(n+1);var r=t.indexOf(".",n+1);0;var a=t.indexOf(".",r+1);0;return t.substring(a+1)}(packages[t])});var s=c.selectAll(".chord").data(a.chords).enter().append("path").attr("class","chord").style("fill",function(e){return packages[e.source.index].color}).attr("d",d);s.append("title").text(function(e){return packages[e.source.index].name+" > "+packages[e.target.index].name+": "+e.source.value+"\n"+packages[e.target.index].name+" > "+packages[e.source.index].name+": "+e.target.value})}}drawDependencyWheel(matrix);
